<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JaxonLearn Math Practice</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSy0vQuhLsWv9dnLZ4fc5QvSahWHg1gNs",
      authDomain: "jaxonlearn-ad8af.firebaseapp.com",
      projectId: "jaxonlearn-ad8af",
      storageBucket: "jaxonlearn-ad8af.appspot.com",
      messagingSenderId: "686684096938",
      appId: "1:686684096938:web:bc3c6bd7c0f7ec630ff060"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    let score = 0;
    let currentAnswer = 0;

    function generateQuestion() {
      const num1 = Math.floor(Math.random() * 10) + 1;
      const num2 = Math.floor(Math.random() * 10) + 1;
      const ops = ['+', '-', '×'];
      const op = ops[Math.floor(Math.random() * ops.length)];
      let questionText = `${num1} ${op} ${num2}`;
      if (op === '+') {
        currentAnswer = num1 + num2;
      } else if (op === '-') {
        currentAnswer = num1 - num2;
      } else {
        currentAnswer = num1 * num2;
      }
      document.getElementById('question').textContent = questionText;
      document.getElementById('answerInput').value = '';
      document.getElementById('feedback').textContent = '';
    }

    function checkAnswer() {
      const userAnswer = parseInt(document.getElementById('answerInput').value, 10);
      if (userAnswer === currentAnswer) {
        score++;
        document.getElementById('feedback').textContent = '答對了！';
        document.getElementById('score').textContent = score;
        generateQuestion();
      } else {
        document.getElementById('feedback').textContent = '再試一次喔！';
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('submitAnswer').addEventListener('click', checkAnswer);
      generateQuestion();
    });
  </script>
</head>
<body>
  <h1>JaxonLearn 數學練習</h1>
  <p id="question"></p>
  <input type="number" id="answerInput" placeholder="輸入答案">
  <button id="submitAnswer">確認</button>
  <p id="feedback"></p>
  <p>目前得分：<span id="score">0</span></p>
</body>
</html>
